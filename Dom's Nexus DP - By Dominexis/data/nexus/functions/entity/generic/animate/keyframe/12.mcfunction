# Compute position between keyframes

scoreboard players operation #duration nexus.value = #point_b_timestamp nexus.value
scoreboard players operation #duration nexus.value -= #point_a_timestamp nexus.value

scoreboard players operation #point_a nexus.value = #input_timestamp nexus.value
scoreboard players operation #point_a nexus.value -= #point_a_timestamp nexus.value
scoreboard players operation #input nexus.value = #point_a nexus.value

scoreboard players operation #point_b nexus.value = #input_timestamp nexus.value
scoreboard players operation #point_b nexus.value -= #point_b_timestamp nexus.value



scoreboard players operation #point_01_a nexus.value = #point_a nexus.value
scoreboard players operation #point_01_b nexus.value = #point_b nexus.value
scoreboard players operation #point_01_a nexus.value *= #point_01_a_velocity nexus.value
scoreboard players operation #point_01_b nexus.value *= #point_01_b_velocity nexus.value
scoreboard players operation #point_01_a nexus.value += #point_01_a_position nexus.value
scoreboard players operation #point_01_b nexus.value += #point_01_b_position nexus.value

scoreboard players operation #point_02_a nexus.value = #point_a nexus.value
scoreboard players operation #point_02_b nexus.value = #point_b nexus.value
scoreboard players operation #point_02_a nexus.value *= #point_02_a_velocity nexus.value
scoreboard players operation #point_02_b nexus.value *= #point_02_b_velocity nexus.value
scoreboard players operation #point_02_a nexus.value += #point_02_a_position nexus.value
scoreboard players operation #point_02_b nexus.value += #point_02_b_position nexus.value

scoreboard players operation #point_03_a nexus.value = #point_a nexus.value
scoreboard players operation #point_03_b nexus.value = #point_b nexus.value
scoreboard players operation #point_03_a nexus.value *= #point_03_a_velocity nexus.value
scoreboard players operation #point_03_b nexus.value *= #point_03_b_velocity nexus.value
scoreboard players operation #point_03_a nexus.value += #point_03_a_position nexus.value
scoreboard players operation #point_03_b nexus.value += #point_03_b_position nexus.value

scoreboard players operation #point_04_a nexus.value = #point_a nexus.value
scoreboard players operation #point_04_b nexus.value = #point_b nexus.value
scoreboard players operation #point_04_a nexus.value *= #point_04_a_velocity nexus.value
scoreboard players operation #point_04_b nexus.value *= #point_04_b_velocity nexus.value
scoreboard players operation #point_04_a nexus.value += #point_04_a_position nexus.value
scoreboard players operation #point_04_b nexus.value += #point_04_b_position nexus.value

scoreboard players operation #point_05_a nexus.value = #point_a nexus.value
scoreboard players operation #point_05_b nexus.value = #point_b nexus.value
scoreboard players operation #point_05_a nexus.value *= #point_05_a_velocity nexus.value
scoreboard players operation #point_05_b nexus.value *= #point_05_b_velocity nexus.value
scoreboard players operation #point_05_a nexus.value += #point_05_a_position nexus.value
scoreboard players operation #point_05_b nexus.value += #point_05_b_position nexus.value

scoreboard players operation #point_06_a nexus.value = #point_a nexus.value
scoreboard players operation #point_06_b nexus.value = #point_b nexus.value
scoreboard players operation #point_06_a nexus.value *= #point_06_a_velocity nexus.value
scoreboard players operation #point_06_b nexus.value *= #point_06_b_velocity nexus.value
scoreboard players operation #point_06_a nexus.value += #point_06_a_position nexus.value
scoreboard players operation #point_06_b nexus.value += #point_06_b_position nexus.value

scoreboard players operation #point_07_a nexus.value = #point_a nexus.value
scoreboard players operation #point_07_b nexus.value = #point_b nexus.value
scoreboard players operation #point_07_a nexus.value *= #point_07_a_velocity nexus.value
scoreboard players operation #point_07_b nexus.value *= #point_07_b_velocity nexus.value
scoreboard players operation #point_07_a nexus.value += #point_07_a_position nexus.value
scoreboard players operation #point_07_b nexus.value += #point_07_b_position nexus.value

scoreboard players operation #point_08_a nexus.value = #point_a nexus.value
scoreboard players operation #point_08_b nexus.value = #point_b nexus.value
scoreboard players operation #point_08_a nexus.value *= #point_08_a_velocity nexus.value
scoreboard players operation #point_08_b nexus.value *= #point_08_b_velocity nexus.value
scoreboard players operation #point_08_a nexus.value += #point_08_a_position nexus.value
scoreboard players operation #point_08_b nexus.value += #point_08_b_position nexus.value

scoreboard players operation #point_09_a nexus.value = #point_a nexus.value
scoreboard players operation #point_09_b nexus.value = #point_b nexus.value
scoreboard players operation #point_09_a nexus.value *= #point_09_a_velocity nexus.value
scoreboard players operation #point_09_b nexus.value *= #point_09_b_velocity nexus.value
scoreboard players operation #point_09_a nexus.value += #point_09_a_position nexus.value
scoreboard players operation #point_09_b nexus.value += #point_09_b_position nexus.value

scoreboard players operation #point_10_a nexus.value = #point_a nexus.value
scoreboard players operation #point_10_b nexus.value = #point_b nexus.value
scoreboard players operation #point_10_a nexus.value *= #point_10_a_velocity nexus.value
scoreboard players operation #point_10_b nexus.value *= #point_10_b_velocity nexus.value
scoreboard players operation #point_10_a nexus.value += #point_10_a_position nexus.value
scoreboard players operation #point_10_b nexus.value += #point_10_b_position nexus.value

scoreboard players operation #point_11_a nexus.value = #point_a nexus.value
scoreboard players operation #point_11_b nexus.value = #point_b nexus.value
scoreboard players operation #point_11_a nexus.value *= #point_11_a_velocity nexus.value
scoreboard players operation #point_11_b nexus.value *= #point_11_b_velocity nexus.value
scoreboard players operation #point_11_a nexus.value += #point_11_a_position nexus.value
scoreboard players operation #point_11_b nexus.value += #point_11_b_position nexus.value

scoreboard players operation #point_12_a nexus.value = #point_a nexus.value
scoreboard players operation #point_12_b nexus.value = #point_b nexus.value
scoreboard players operation #point_12_a nexus.value *= #point_12_a_velocity nexus.value
scoreboard players operation #point_12_b nexus.value *= #point_12_b_velocity nexus.value
scoreboard players operation #point_12_a nexus.value += #point_12_a_position nexus.value
scoreboard players operation #point_12_b nexus.value += #point_12_b_position nexus.value



scoreboard players operation #input nexus.value *= #1000 nexus.value
scoreboard players operation #input nexus.value /= #duration nexus.value
function nexus:generic/interpolation/smoothstep



scoreboard players operation #output_point_01 nexus.value = #point_01_b nexus.value
scoreboard players operation #output_point_01 nexus.value -= #point_01_a nexus.value
scoreboard players operation #output_point_01 nexus.value *= #output nexus.value
scoreboard players operation #output_point_01 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_01 nexus.value += #point_01_a nexus.value

scoreboard players operation #output_point_02 nexus.value = #point_02_b nexus.value
scoreboard players operation #output_point_02 nexus.value -= #point_02_a nexus.value
scoreboard players operation #output_point_02 nexus.value *= #output nexus.value
scoreboard players operation #output_point_02 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_02 nexus.value += #point_02_a nexus.value

scoreboard players operation #output_point_03 nexus.value = #point_03_b nexus.value
scoreboard players operation #output_point_03 nexus.value -= #point_03_a nexus.value
scoreboard players operation #output_point_03 nexus.value *= #output nexus.value
scoreboard players operation #output_point_03 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_03 nexus.value += #point_03_a nexus.value

scoreboard players operation #output_point_04 nexus.value = #point_04_b nexus.value
scoreboard players operation #output_point_04 nexus.value -= #point_04_a nexus.value
scoreboard players operation #output_point_04 nexus.value *= #output nexus.value
scoreboard players operation #output_point_04 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_04 nexus.value += #point_04_a nexus.value

scoreboard players operation #output_point_05 nexus.value = #point_05_b nexus.value
scoreboard players operation #output_point_05 nexus.value -= #point_05_a nexus.value
scoreboard players operation #output_point_05 nexus.value *= #output nexus.value
scoreboard players operation #output_point_05 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_05 nexus.value += #point_05_a nexus.value

scoreboard players operation #output_point_06 nexus.value = #point_06_b nexus.value
scoreboard players operation #output_point_06 nexus.value -= #point_06_a nexus.value
scoreboard players operation #output_point_06 nexus.value *= #output nexus.value
scoreboard players operation #output_point_06 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_06 nexus.value += #point_06_a nexus.value

scoreboard players operation #output_point_07 nexus.value = #point_07_b nexus.value
scoreboard players operation #output_point_07 nexus.value -= #point_07_a nexus.value
scoreboard players operation #output_point_07 nexus.value *= #output nexus.value
scoreboard players operation #output_point_07 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_07 nexus.value += #point_07_a nexus.value

scoreboard players operation #output_point_08 nexus.value = #point_08_b nexus.value
scoreboard players operation #output_point_08 nexus.value -= #point_08_a nexus.value
scoreboard players operation #output_point_08 nexus.value *= #output nexus.value
scoreboard players operation #output_point_08 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_08 nexus.value += #point_08_a nexus.value

scoreboard players operation #output_point_09 nexus.value = #point_09_b nexus.value
scoreboard players operation #output_point_09 nexus.value -= #point_09_a nexus.value
scoreboard players operation #output_point_09 nexus.value *= #output nexus.value
scoreboard players operation #output_point_09 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_09 nexus.value += #point_09_a nexus.value

scoreboard players operation #output_point_10 nexus.value = #point_10_b nexus.value
scoreboard players operation #output_point_10 nexus.value -= #point_10_a nexus.value
scoreboard players operation #output_point_10 nexus.value *= #output nexus.value
scoreboard players operation #output_point_10 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_10 nexus.value += #point_10_a nexus.value

scoreboard players operation #output_point_11 nexus.value = #point_11_b nexus.value
scoreboard players operation #output_point_11 nexus.value -= #point_11_a nexus.value
scoreboard players operation #output_point_11 nexus.value *= #output nexus.value
scoreboard players operation #output_point_11 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_11 nexus.value += #point_11_a nexus.value

scoreboard players operation #output_point_12 nexus.value = #point_12_b nexus.value
scoreboard players operation #output_point_12 nexus.value -= #point_12_a nexus.value
scoreboard players operation #output_point_12 nexus.value *= #output nexus.value
scoreboard players operation #output_point_12 nexus.value /= #1000 nexus.value
scoreboard players operation #output_point_12 nexus.value += #point_12_a nexus.value