# PASSIVE

scoreboard players set @s reduceDMG 20

# RANDOM ANIMATION ID

#scoreboard players add @s[type=armor_stand] threeAnimRandom 1
#scoreboard players set @s[type=armor_stand,scores={threeAnimRandom=4..}] threeAnimRandom 1
scoreboard players remove @s[scores={a.WOC.cd=1..}] a.WOC.cd 1
scoreboard players remove @s[scores={a.WOR.cd=1..}] a.WOR.cd 1

#effect give @s slowness 1 3 true
effect give @s slowness 1 1 true

#################

execute if score @s[type=armor_stand] animate matches 0 run execute if score @s animCooldown matches 0 run execute if score @s walking matches 0 run item replace entity @s armor.head with minecraft:potion{CustomModelData:500001}

execute if score @s[type=armor_stand] animate matches 0 run execute if score @s animCooldown matches 0 run execute if score @s walking matches 1 run item replace entity @s armor.head with minecraft:potion{CustomModelData:500002}


##################

item replace entity @s hotbar.5 with carrot_on_a_stick{display:{Name:'{"text":"Swift Banner (Basic Attack)","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}',Lore:['[{"text":" ● Attack Speed:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 0.75s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":""},{"text":" ● Attack Cooldown:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 0.25s","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":" ● Damage:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 10","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','{"text":" ● Damage Type: Physical","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}','{"text":" "}','{"text":"The Flag Waver swings her flag with precision,"}','{"text":"dealing moderate damage to enemies in front of her."}','{"text":"Successful hits have a chance to increase the"}','{"text":"movement speed of nearby allies for a short duration,"}','{"text":"inspiring them to engage with swiftness."}']},Unbreakable:1b,CustomModelData:350001,element:7,spell_id:1,droppable:-1,abilityTool:1} 1



execute unless score @s a.WOC.cd matches 1.. run item replace entity @s hotbar.8 with carrot_on_a_stick{display:{Name:'{"text":"War Cry of Unity (Ultimate Ability)","color":"gold","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}',Lore:['[{"text":" ● Cast Speed:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 1.6s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":""},{"text":" ● Cast Cooldown:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 1.4s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":" ● Cast Radius:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" Infinite","color":"gold","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":""},{"text":" ● Ability Cooldown: ","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":"60s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','{"text":" ➵ Increase allies speed","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}','[{"text":"  ➵ Increase for","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 7s","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":"  ➵ Increase by ","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":"15%","color":"green"}]','{"text":"  ➵ Non Stackable","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}','{"text":" ➵ Decrease allies abilities cooldown","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}','[{"text":"  ➵ Decrease for","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 7s","color":"green"}]','[{"text":"  ➵ Decrease by ","color":"white"},{"text":"x2","color":"green","bold":true,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','{"text":" "}','{"text":"The Flag Waver raises her flag high,"}','{"text":"unleashing a powerful war cry that echoes"}','{"text":"across the battlefield. During her ultimate,"}','{"text":"all allies receive a substantial boost to"}','{"text":"their movement speed and a significant reduction"}','{"text":"in cooldowns for their abilities. "}','{"text":"This empowering effect lasts for a limited time,"}','{"text":"allowing the team to coordinate and "}','{"text":"unleash devastating combos."}']},Unbreakable:1b,CustomModelData:350004,element:7,spell_id:2,droppable:-1,abilityTool:5} 1
execute if score @s a.WOC.cd matches 1.. run item replace entity @s hotbar.8 with barrier{display:{Name:'{"text":"War Cry of Unity (Ultimate Ability)","color":"gold","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}',Lore:['[{"text":" ● Cast Speed:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 1.6s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":""},{"text":" ● Cast Cooldown:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 1.4s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":" ● Cast Radius:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" Infinite","color":"gold","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":""},{"text":" ● Ability Cooldown: ","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":"60s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','{"text":" ➵ Increase allies speed","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}','[{"text":"  ➵ Increase for","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 7s","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":"  ➵ Increase by ","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":"15%","color":"green"}]','{"text":"  ➵ Non Stackable","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}','{"text":" ➵ Decrease allies abilities cooldown","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}','[{"text":"  ➵ Decrease for","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 7s","color":"green"}]','[{"text":"  ➵ Decrease by ","color":"white"},{"text":"x2","color":"green","bold":true,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]']},Unbreakable:1b,element:7,spell_id:2,droppable:-1,abilityTool:5} 1

execute unless score @s a.WOR.cd matches 1.. run item replace entity @s hotbar.7 with carrot_on_a_stick{display:{Name:'{"text":"Gale Gust (Area Control Ability)","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}',Lore:['[{"text":""},{"text":" ● Cast Duration:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" ~6s.","color":"gold","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":" ● Cast Radius:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" Infinite","color":"gold","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":""},{"text":" ● Ability Cooldown: ","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":"45s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','{"text":" "}','{"text":"The Flag Waver waves her flag with a burst of force,"}','{"text":"creating a gust of wind that pushes enemies in"}','{"text":"a targeted direction. This ability can disrupt"}','{"text":"enemy formations, push enemies off ledges,"}','{"text":"and create opportunities for environmental advantages."}']},Unbreakable:1b,CustomModelData:350006,element:7,spell_id:3,droppable:-1,abilityTool:3} 1
execute if score @s a.WOR.cd matches 1.. run item replace entity @s hotbar.7 with barrier{display:{Name:'{"text":"Gale Gust (Area Control Ability)","color":"gray","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}',Lore:['[{"text":" ● Cast Speed:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 1.6s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":""},{"text":" ● Cast Cooldown:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 1.4s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":" ● Cast Radius:","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" Infinite","color":"gold","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":""},{"text":" ● Ability Cooldown: ","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":"15s","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','{"text":" ➵ Increase allies speed","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}','[{"text":"  ➵ Increase for","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":" 7s","color":"green","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}]','[{"text":"  ➵ Increase by ","color":"white","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false},{"text":"15%","color":"green"}]','{"text":"  ➵ Non Stackable","color":"red","bold":false,"italic":false,"underlined":false,"strikethrough":false,"obfuscated":false}']},Unbreakable:1b,element:7,spell_id:3,droppable:-1,abilityTool:3} 1





#item replace entity @s weapon.mainhand from entity @p weapon.mainhand
#item replace entity @s weapon.offhand from entity @p weapon.offhand
item replace entity @s[type=armor_stand] armor.chest with minecraft:air
item replace entity @s[type=armor_stand] armor.legs with minecraft:air
item replace entity @s[type=armor_stand] armor.feet with minecraft:air

data merge entity @s {Invisible:1b}
execute if score @s animate matches 1 run execute if score @s actionID matches 3 run execute store result score @s threeAnimRandom run loot spawn 320 1 -246 loot core:three_anim
execute if score @s threeAnimRandom matches 1 run execute if score @s animate matches 1 run execute if score @s actionID matches 3 run item replace entity @s armor.head with minecraft:potion{CustomModelData:500003}
execute if score @s threeAnimRandom matches 2 run execute if score @s animate matches 1 run execute if score @s actionID matches 3 run item replace entity @s armor.head with minecraft:potion{CustomModelData:500004}
execute if score @s threeAnimRandom matches 3 run execute if score @s animate matches 1 run execute if score @s actionID matches 3 run item replace entity @s armor.head with minecraft:potion{CustomModelData:500005}
execute if score @s animate matches 1 run execute if score @s actionID matches 3 run scoreboard players operation @s animateSysTime = .gametime arenaTime
execute if score @s animate matches 1 run execute if score @s actionID matches 3 run scoreboard players operation @s animateSysTime %= .24000 animateSysTime
execute if score @s animate matches 1 run execute if score @s actionID matches 3 run scoreboard players add @s animateSysTime 1
execute if score @s animate matches 1 run execute if score @s actionID matches 3 run scoreboard players operation @s animateSysTime %= .24 numValue
execute if score @s animate matches 1 run execute if score @s actionID matches 3 run execute store result entity @s ArmorItems[3].tag.CustomPotionColor int 1 run scoreboard players get @s animateSysTime
#execute if score @s animate matches 1 run execute if score @s actionID matches 3 run effect give @s slowness 2 12 true
execute if score @s animate matches 16 run execute if score @s actionID matches 3 run function core:2dlogic/morph/flag_addon/state_3



execute unless score @s[type=armor_stand] a.WOC.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run item replace entity @s armor.head with minecraft:potion{CustomModelData:500006}
execute unless score @s[type=armor_stand] a.WOC.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run scoreboard players operation @s animateSysTime = .gametime arenaTime
execute unless score @s[type=armor_stand] a.WOC.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run scoreboard players operation @s animateSysTime %= .24000 animateSysTime
execute unless score @s[type=armor_stand] a.WOC.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run scoreboard players add @s animateSysTime 1
execute unless score @s[type=armor_stand] a.WOC.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run scoreboard players operation @s animateSysTime %= .72 numValue
execute unless score @s[type=armor_stand] a.WOC.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run execute store result entity @s ArmorItems[3].tag.CustomPotionColor int 1 run scoreboard players get @s animateSysTime
execute unless score @s a.WOC.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run effect give @s slowness 3 8 true
execute unless score @s[type=armor_stand] a.WOC.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run effect give @s jump_boost 3 128 true
execute unless score @s a.WOC.cd matches 1.. run execute if score @s animate matches 15 run execute if score @s actionID matches 4 run function core:2dlogic/morph/flag_addon/state_4
execute unless score @s a.WOC.cd matches 1.. run execute if score @s animate matches 70 run execute if score @s actionID matches 4 run scoreboard players set @s a.WOC.cd 800


execute unless score @s[type=armor_stand] a.WOR.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 5 run item replace entity @s armor.head with minecraft:potion{CustomModelData:500007}
execute unless score @s[type=armor_stand] a.WOR.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 5 run scoreboard players operation @s animateSysTime = .gametime arenaTime
execute unless score @s[type=armor_stand] a.WOR.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 5 run scoreboard players operation @s animateSysTime %= .24000 animateSysTime
execute unless score @s[type=armor_stand] a.WOR.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 5 run scoreboard players add @s animateSysTime 1
execute unless score @s[type=armor_stand] a.WOR.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 5 run scoreboard players operation @s animateSysTime %= .114 numValue
execute unless score @s[type=armor_stand] a.WOR.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 5 run execute store result entity @s ArmorItems[3].tag.CustomPotionColor int 1 run scoreboard players get @s animateSysTime
execute unless score @s a.WOR.cd matches 1.. run execute if score @s animate matches 1 run execute if score @s actionID matches 4 run effect give @s slowness 3 8 true
execute unless score @s a.WOR.cd matches 1.. run execute if score @s animate matches 112 run execute if score @s actionID matches 5 run scoreboard players set @s a.WOR.cd 600
execute unless score @s a.WOR.cd matches 1.. run execute if score @s animate matches 37 run execute if score @s actionID matches 5 run function core:2dlogic/morph/flag_addon/state_4_wind
execute unless score @s a.WOR.cd matches 1.. run execute if score @s animate matches 63 run execute if score @s actionID matches 5 run function core:2dlogic/morph/flag_addon/state_4_wind
execute unless score @s a.WOR.cd matches 1.. run execute if score @s animate matches 90 run execute if score @s actionID matches 5 run function core:2dlogic/morph/flag_addon/state_4_wind


## ENDING ANIMATION ##
execute if score @s animate matches 1.. run execute if score @s animate < @s animateMax run scoreboard players add @s animate 1
execute if score @s animate matches 1.. run execute unless score @s animate < @s animateMax run item replace entity @s armor.head with minecraft:potion{CustomModelData:500001}
execute if score @s animate matches 1.. run execute unless score @s animate < @s animateMax run scoreboard players set @s animate 0

execute if score @s animate matches 1.. run execute if score @s actionID matches 3 run execute if score @s animate matches 22.. run scoreboard players set @s animate 0

## ANIM COOLDOWN FORMULA -> time - first frame - other anim cooldown - 2 ##
execute if score @s fallAnimCooldown matches 2.. run scoreboard players set @s animCooldown 12

## ALWAYS RESET ANIMCOOLDOWN ! ##
scoreboard players remove @s[scores={animCooldown=1..}] animCooldown 1
